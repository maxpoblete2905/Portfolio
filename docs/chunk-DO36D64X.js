import{a as P,b as A,c as D}from"./chunk-K4WYCAOP.js";import{A as N,B as y,C as T,D as G,E as $,F as X,G as H,H as z,I as J,J as K,K as Q,O as Y,e as B,f as W,g as R,h as O}from"./chunk-G336QBJN.js";import"./chunk-EE22SPCH.js";import{$a as e,Fa as m,Ga as x,Ua as h,Vb as k,W as j,Wa as u,Wb as I,Xb as q,_a as t,ab as p,bb as E,cb as c,db as f,ea as v,fa as F,hb as i,ib as b,jb as d,kb as U,lb as L,ma as S,mb as V,na as w,nb as M}from"./chunk-OV4SEJUD.js";import"./chunk-CQCHLVVT.js";var Z=(()=>{let o=class o{constructor(n){this.authService=n}logout(){this.authService.signOut().subscribe({next:()=>console.log("Closed session successful"),error:n=>console.error("Closed session error",n)})}};o.\u0275fac=function(r){return new(r||o)(x(P))},o.\u0275cmp=v({type:o,selectors:[["auth-layout"]],decls:17,vars:0,consts:[[1,"bg-gray-800","p-4"],[1,"container","mx-auto","flex","items-center","justify-between"],[1,"flex","items-center"],[1,"mr-6"],["routerLink","add",1,"text-white","hover:text-blue-300","cursor-pointer"],["routerLink","list",1,"text-white","hover:text-blue-300","cursor-pointer"],["href","/opcion3",1,"text-white","hover:text-blue-300"],[1,"text-white"],[1,"bg-red-500","text-white","py-2","px-4","rounded","hover:bg-red-700",3,"click"]],template:function(r,a){r&1&&(t(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"p",4),i(5,"add"),e()(),t(6,"li",3)(7,"p",5),i(8,"list"),e()(),t(9,"li")(10,"a",6),i(11,"Opci\xF3n 3"),e()()(),t(12,"div",7),i(13," Hola, max "),e(),t(14,"button",8),c("click",function(){return a.logout()}),i(15," Cerrar sesi\xF3n "),e()()(),p(16,"router-outlet"))},dependencies:[B,R]});let l=o;return l})();var ee=(()=>{let o=class o{constructor(n,r){this.router=n,this.authService=r,this.username="",this.password=""}login(){this.authService.signIn(this.username,this.password).subscribe({next:n=>{n?(console.log("Login successful"),this.router.navigate(["/backoffice"])):console.log("Login failed")},error:n=>console.error("Login error",n)})}};o.\u0275fac=function(r){return new(r||o)(x(W),x(P))},o.\u0275cmp=v({type:o,selectors:[["auth-login"]],decls:13,vars:2,consts:[[1,"flex","justify-center","items-center","h-fit"],[1,"bg-yellow-100","shadow-md","rounded","px-8","pt-6","pb-8","mb-4"],[1,"mb-4"],["for","username",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["name","username","id","username","type","text","placeholder","Usuario",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngModelChange","ngModel"],[1,"mb-6"],["for","password",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["name","password","id","password","type","password","placeholder","Contrase\xF1a",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mb-3","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-between"],["type","button",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"click"]],template:function(r,a){r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),i(4," Usuario "),e(),t(5,"input",4),M("ngModelChange",function(_){return V(a.username,_)||(a.username=_),_}),e()(),t(6,"div",5)(7,"label",6),i(8," Contrase\xF1a "),e(),t(9,"input",7),M("ngModelChange",function(_){return V(a.password,_)||(a.password=_),_}),e()(),t(10,"div",8)(11,"button",9),c("click",function(){return a.login()}),i(12," Iniciar sesi\xF3n "),e()()()()),r&2&&(m(5),L("ngModel",a.username),m(4),L("ngModel",a.password))},dependencies:[N,T,$]});let l=o;return l})();function me(l,o){if(l&1){let s=E();t(0,"tr")(1,"td",37),i(2),e(),t(3,"td",37),i(4),e(),t(5,"td",38)(6,"button",39),c("click",function(){let r=S(s).index,a=f(2);return w(a.eliminarObjeto(r))}),i(7,"delet"),e()()()}if(l&2){let s=o.$implicit;m(2),b(s.src),m(2),b(s.description)}}function ce(l,o){if(l&1&&(t(0,"table",33)(1,"thead")(2,"tr")(3,"th",34),i(4,"Src"),e(),t(5,"th",34),i(6,"Description"),e(),t(7,"th",35),i(8,"Delete"),e()()(),t(9,"tbody"),h(10,me,8,2,"tr",36),e()()),l&2){let s=f();m(10),u("ngForOf",s.formulario.controls.views.value)}}function de(l,o){if(l&1){let s=E();t(0,"li",28),i(1),t(2,"button",40),c("click",function(){let r=S(s).index,a=f();return w(a.eliminarString(r))}),i(3," X "),e()()}if(l&2){let s=o.$implicit;m(),d(" ",s," ")}}var te=(()=>{let o=class o{constructor(n,r){this.formBuilder=n,this.firestore=r,this.formulario=this.formBuilder.group({title:["",y.required],client:["",y.required],companyName:["",y.required],descriptionProject:["",y.required],position:["",y.required],imageUrl:["",y.required],views:this.formBuilder.array([],y.required),technoligies:this.formBuilder.array([],y.required),src:[""],description:[""],nuevoString:[""]}),this.firestoreService=new D(this.firestore),this.firestoreService.setCollection("projects")}agregarObjeto(){let n=this.formulario.value.src,r=this.formulario.value.description;n&&r&&(this.formulario.get("views").push(this.formBuilder.group({src:n,description:r})),this.formulario.patchValue({src:"",description:""}))}eliminarObjeto(n){this.formulario.get("views").removeAt(n)}agregarString(){let n=this.formulario.value.nuevoString;n&&(this.formulario.get("technoligies").push(this.formBuilder.control(n)),this.formulario.patchValue({nuevoString:""}))}eliminarString(n){this.formulario.get("technoligies").removeAt(n)}onSave(){if(this.formulario.valid){let n={title:this.formulario.value.title,description:this.formulario.value.descriptionProject,imageUrl:this.formulario.value.imageUrl,companyName:this.formulario.value.companyName,position:this.formulario.value.position,client:this.formulario.value.client,technologies:this.formulario.value.technoligies,views:this.formulario.value.views};console.log(n),this.firestoreService.addDocument(n).subscribe({next:g=>{console.log("return service:",g)},error:g=>{console.error("Error loading projects:",g)}}),this.formulario.get("views").clear(),this.formulario.get("technoligies").clear(),this.formulario.reset()}else console.log("El formulario no es v\xE1lido. Por favor, completa todos los campos requeridos.")}};o.\u0275fac=function(r){return new(r||o)(x(J),x(A))},o.\u0275cmp=v({type:o,selectors:[["add-page"]],decls:81,vars:9,consts:[[1,"flex","flex-col","justify-center","text-white"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-2"],[1,"shadow-md","rounded","p-2","m-2"],[1,"bg-gray-700","rounded","p-4","mb-2"],[1,"text-lg","mb-4","border-b-2"],["for","titulo",1,"block","text-gray-200","text-sm","my-2"],["type","text","id","title","formControlName","title",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],["for","client",1,"block","text-gray-200","text-sm","my-2"],["type","text","id","client","formControlName","client",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],["for","companyName",1,"block","text-gray-200","text-sm","my-2"],["type","text","id","companyName","formControlName","companyName",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],["for","descriptionProject",1,"block","text-gray-200","text-sm","my-2"],["type","text","id","descriptionProject","formControlName","descriptionProject",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],["for","imageUrl",1,"block","text-gray-200","text-sm","my-2"],["type","text","id","imageUrl","formControlName","imageUrl",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],["for","position",1,"block","text-gray-200","text-sm","my-2"],["type","text","id","position","formControlName","position",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"bg-gray-700","rounded","p-4","mt-2"],["for","src",1,"block","text-gray-200","text-sm","mb-2"],["type","text","id","src","formControlName","src",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],["for","description",1,"block","text-gray-200","text-sm","my-2"],["id","description","formControlName","description",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],["type","button",1,"bg-blue-500","hover:bg-blue-700","text-white","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline","my-2",3,"click"],["for","nuevoString",1,"block","text-gray-200","text-sm","mb-2"],["type","text","id","nuevoString","formControlName","nuevoString",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],["type","button",1,"mt-3","bg-blue-500","hover:bg-blue-700","text-white","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"click"],[1,"block","text-gray-200","text-sm","font-bold","mb-2"],[1,"text-gray-300"],[1,"text-lg","font-bold","mb-2"],["class","table-auto w-full",4,"ngIf"],["class","text-gray-300",4,"ngFor","ngForOf"],["type","submit",1,"bg-green-500","hover:bg-green-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline","mt-4"],[1,"table-auto","w-full"],[1,"w-1/2","px-4","py-2"],[1,"w-1/8","px-4","py-2"],[4,"ngFor","ngForOf"],[1,"w-1/2","border","px-4","py-2"],[1,"w-1/8","border","px-4","py-2","items-center","justify-center"],["type","button",1,"text-red-500","font-bold",3,"click"],["type","button",1,"text-red-500","font-bold","ml-5",3,"click"]],template:function(r,a){r&1&&(t(0,"div",0)(1,"form",1),c("ngSubmit",function(){return a.onSave()}),t(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),i(6,"Add Propiedades"),e(),t(7,"label",6),i(8,"Title:"),e(),p(9,"input",7),t(10,"label",8),i(11,"Client:"),e(),p(12,"input",9),t(13,"label",10),i(14,"Company name:"),e(),p(15,"input",11),t(16,"label",12),i(17,"Description Project:"),e(),p(18,"input",13),t(19,"label",14),i(20,"ImageUrl:"),e(),p(21,"input",15),t(22,"label",16),i(23,"Position:"),e(),p(24,"input",17),e(),t(25,"div",18)(26,"h2",5),i(27,"Add Views"),e(),t(28,"label",19),i(29,"Src:"),e(),p(30,"input",20),t(31,"label",21),i(32,"Descripci\xF3n:"),e(),p(33,"textarea",22),t(34,"button",23),c("click",function(){return a.agregarObjeto()}),i(35," Agregar View "),e()(),t(36,"div",18)(37,"h2",5),i(38,"Add Technologies"),e(),t(39,"label",24),i(40,"Technologies:"),e(),p(41,"input",25),t(42,"button",26),c("click",function(){return a.agregarString()}),i(43," Agregar tech "),e()()(),t(44,"div",3)(45,"div",4)(46,"label",27),i(47,"T\xEDtulo:"),e(),t(48,"span",28),i(49),e(),t(50,"label",27),i(51,"Client:"),e(),t(52,"span",28),i(53),e(),t(54,"label",27),i(55,"company Name:"),e(),t(56,"span",28),i(57),e(),t(58,"label",27),i(59,"project description:"),e(),t(60,"span",28),i(61),e(),t(62,"label",27),i(63,"project imageUrl:"),e(),t(64,"span",28),i(65),e(),t(66,"label",27),i(67,"position:"),e(),t(68,"span",28),i(69),e()(),t(70,"div",4)(71,"h3",29),i(72,"Views:"),e(),h(73,ce,11,1,"table",30),e(),t(74,"div",4)(75,"h3",29),i(76,"Technologies:"),e(),t(77,"ul"),h(78,de,4,1,"li",31),e()(),t(79,"button",32),i(80," Enviar "),e()()()()()),r&2&&(m(),u("formGroup",a.formulario),m(48),d("",a.formulario.controls.title.value," "),m(4),d("",a.formulario.controls.client.value," "),m(4),d("",a.formulario.controls.companyName.value," "),m(4),d("",a.formulario.controls.descriptionProject.value," "),m(4),d("",a.formulario.controls.imageUrl.value," "),m(4),d("",a.formulario.controls.position.value," "),m(4),u("ngIf",a.formulario.controls.views.value.length>0),m(5),u("ngForOf",a.formulario.controls.technoligies.value))},dependencies:[k,I,X,N,T,G,H,z]});let l=o;return l})();function pe(l,o){if(l&1){let s=E();t(0,"tr",7)(1,"td",5),i(2),e(),t(3,"td",5),i(4),e(),t(5,"td",5)(6,"button",8),c("click",function(){let r=S(s).$implicit,a=f(2);return w(a.mostrarDetalle(r))}),i(7,"Ver Detalles"),e()(),t(8,"td",5)(9,"button",8),c("click",function(){let r=S(s).$implicit,a=f(2);return w(a.solicitarEliminar(r.id))}),i(10,"X"),e()()()}if(l&2){let s=o.$implicit;m(2),b(s.title),m(2),b(s.description)}}function ue(l,o){if(l&1&&(t(0,"table",4)(1,"thead")(2,"tr")(3,"th",5),i(4,"Title"),e(),t(5,"th",5),i(6,"Description"),e(),t(7,"th",5),i(8,"Details"),e(),t(9,"th",5),i(10,"Delet"),e()()(),t(11,"tbody"),h(12,pe,11,2,"tr",6),e()()),l&2){let s=f();m(12),u("ngForOf",s.projects)}}function fe(l,o){if(l&1&&(t(0,"li"),i(1),e()),l&2){let s=o.$implicit;m(),b(s)}}function ge(l,o){if(l&1&&(t(0,"li"),i(1),e()),l&2){let s=o.$implicit;m(),U("",s.src," - ",s.description,"")}}function xe(l,o){if(l&1){let s=E();t(0,"div",9)(1,"div",10)(2,"h2",11),i(3),e(),t(4,"p",12),i(5),e(),t(6,"div",10)(7,"p")(8,"span",13),i(9,"ID:"),e(),i(10),e(),t(11,"p")(12,"span",13),i(13,"Company Name:"),e(),i(14),e(),t(15,"p")(16,"span",13),i(17,"Position:"),e(),i(18),e(),t(19,"p")(20,"span",13),i(21,"Client:"),e(),i(22),e(),t(23,"p")(24,"span",13),i(25,"Image URL:"),e(),i(26),e(),t(27,"p")(28,"span",13),i(29,"Technologies:"),e()(),t(30,"ul",14),h(31,fe,2,1,"li",15),e(),t(32,"p")(33,"span",13),i(34,"Views:"),e()(),t(35,"ul",14),h(36,ge,2,2,"li",15),e()()(),t(37,"div",16)(38,"div",17)(39,"button",18),c("click",function(){S(s);let r=f();return w(r.solicitarEliminar(r.projectSeleccionado.id))}),i(40,"Eliminar"),e()(),t(41,"div")(42,"button",8),c("click",function(){S(s);let r=f();return w(r.cerrarDetalle())}),i(43,"Cerrar"),e()()()()}if(l&2){let s=f();m(3),b(s.projectSeleccionado.title),m(2),b(s.projectSeleccionado.description),m(5),d(" ",s.projectSeleccionado.id,""),m(4),d(" ",s.projectSeleccionado.companyName,""),m(4),d(" ",s.projectSeleccionado.position,""),m(4),d(" ",s.projectSeleccionado.client,""),m(4),d(" ",s.projectSeleccionado.imageUrl,""),m(5),u("ngForOf",s.projectSeleccionado.technologies),m(5),u("ngForOf",s.projectSeleccionado.views)}}var ie=(()=>{let o=class o{mostrarDetalle(n){this.projectSeleccionado=n}cerrarDetalle(){this.projectSeleccionado=null}constructor(n){this.firestore=n,this.projects=[],this.projectSeleccionado=null,this.firestoreService=new D(this.firestore),this.firestoreService.setCollection("projects")}ngOnInit(){this.firestoreService.getDocuments().subscribe({next:n=>{this.projects=n},error:n=>{console.error("Error loading projects:",n)}})}eliminarProyecto(n){let r=this.firestoreService.deleteDocument(n);this.projectSeleccionado=null,console.log("response service delete",r)}solicitarEliminar(n){prompt(`Por favor, ingrese el ID del proyecto que desea eliminar: ${n} `)===n?window.confirm("\xBFEst\xE1s seguro de que deseas eliminar este proyecto definitivamente? Esta acci\xF3n no se puede deshacer.")&&this.eliminarProyecto(n):alert("El ID ingresado no coincide con el ID del proyecto. La eliminaci\xF3n ha sido cancelada.")}};o.\u0275fac=function(r){return new(r||o)(x(A))},o.\u0275cmp=v({type:o,selectors:[["app-list-page"]],decls:5,vars:2,consts:[[1,"flex","justify-center"],[1,"w-1/2","mx-4","mt-3"],["class","table-auto w-full bg-gray-800 text-white rounded-lg",4,"ngIf"],["class","max-w-xl mx-auto bg-gray-800 rounded-lg shadow-md overflow-hidden text-white",4,"ngIf"],[1,"table-auto","w-full","bg-gray-800","text-white","rounded-lg"],[1,"px-4","py-2"],["class","border-b border-gray-700",4,"ngFor","ngForOf"],[1,"border-b","border-gray-700"],["type","button",1,"text-blue-500","font-bold",3,"click"],[1,"max-w-xl","mx-auto","bg-gray-800","rounded-lg","shadow-md","overflow-hidden","text-white"],[1,"px-6","py-2"],[1,"text-xl","font-bold","mb-2"],[1,"text-gray-300","mb-4"],[1,"font-bold"],[1,"list-disc","pl-4"],[4,"ngFor","ngForOf"],[1,"px-6","py-4","bg-gray-700","flex","justify-end"],[1,"mr-2"],["type","button",1,"text-red-500","font-bold",3,"click"]],template:function(r,a){r&1&&(t(0,"div",0)(1,"div",1),h(2,ue,13,1,"table",2),e(),t(3,"div",1),h(4,xe,44,9,"div",3),e()()),r&2&&(m(2),u("ngIf",a.projects&&a.projects.length>0),m(2),u("ngIf",a.projectSeleccionado))},dependencies:[k,I],styles:["[_nghost-%COMP%]{display:block}"]});let l=o;return l})();var he=[{path:"",component:Z,children:[{path:"login",component:ee},{path:"add",component:te},{path:"list",component:ie},{path:"**",redirectTo:"login"}]}],oe=(()=>{let o=class o{};o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=F({type:o}),o.\u0275inj=j({imports:[O.forChild(he),O]});let l=o;return l})();var Re=(()=>{let o=class o{};o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=F({type:o}),o.\u0275inj=j({imports:[q,oe,K,Q,Y]});let l=o;return l})();export{Re as AuthModule};
