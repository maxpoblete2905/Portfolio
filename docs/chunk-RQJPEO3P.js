import{a as _,b as K,c as Q}from"./chunk-K4WYCAOP.js";import{A as E,B as p,C as F,D as B,E as W,F as G,G as R,H as X,I as H,J as z,K as J,O as Y,e as O,f as U,g as q,h as T}from"./chunk-G336QBJN.js";import"./chunk-EE22SPCH.js";import{$a as t,Fa as s,Ga as g,Ua as S,Vb as L,W as v,Wa as b,Wb as D,Xb as V,_a as e,ab as m,bb as A,cb as u,db as C,ea as f,fa as w,hb as i,ib as N,jb as h,lb as M,ma as k,mb as P,na as j,nb as I}from"./chunk-OV4SEJUD.js";import"./chunk-CQCHLVVT.js";var Z=(()=>{let o=class o{constructor(n){this.authService=n}logout(){this.authService.signOut().subscribe({next:()=>console.log("Closed session successful"),error:n=>console.error("Closed session error",n)})}};o.\u0275fac=function(r){return new(r||o)(g(_))},o.\u0275cmp=f({type:o,selectors:[["auth-layout"]],decls:17,vars:0,consts:[[1,"bg-gray-800","p-4"],[1,"container","mx-auto","flex","items-center","justify-between"],[1,"flex","items-center"],[1,"mr-6"],["routerLink","add",1,"text-white","hover:text-blue-300","cursor-pointer"],["routerLink","list",1,"text-white","hover:text-blue-300","cursor-pointer"],["href","/opcion3",1,"text-white","hover:text-blue-300"],[1,"text-white"],[1,"bg-red-500","text-white","py-2","px-4","rounded","hover:bg-red-700",3,"click"]],template:function(r,a){r&1&&(e(0,"nav",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"p",4),i(5,"add"),t()(),e(6,"li",3)(7,"p",5),i(8,"list"),t()(),e(9,"li")(10,"a",6),i(11,"Opci\xF3n 3"),t()()(),e(12,"div",7),i(13," Hola, max "),t(),e(14,"button",8),u("click",function(){return a.logout()}),i(15," Cerrar sesi\xF3n "),t()()(),m(16,"router-outlet"))},dependencies:[O,q]});let l=o;return l})();var $=(()=>{let o=class o{constructor(n,r){this.router=n,this.authService=r,this.username="",this.password=""}login(){this.authService.signIn(this.username,this.password).subscribe({next:n=>{n?(console.log("Login successful"),this.router.navigate(["/backoffice"])):console.log("Login failed")},error:n=>console.error("Login error",n)})}};o.\u0275fac=function(r){return new(r||o)(g(U),g(_))},o.\u0275cmp=f({type:o,selectors:[["auth-login"]],decls:13,vars:2,consts:[[1,"flex","justify-center","items-center","h-fit"],[1,"bg-yellow-100","shadow-md","rounded","px-8","pt-6","pb-8","mb-4"],[1,"mb-4"],["for","username",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["name","username","id","username","type","text","placeholder","Usuario",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngModelChange","ngModel"],[1,"mb-6"],["for","password",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["name","password","id","password","type","password","placeholder","Contrase\xF1a",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","mb-3","leading-tight","focus:outline-none","focus:shadow-outline",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-between"],["type","button",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"click"]],template:function(r,a){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),i(4," Usuario "),t(),e(5,"input",4),I("ngModelChange",function(x){return P(a.username,x)||(a.username=x),x}),t()(),e(6,"div",5)(7,"label",6),i(8," Contrase\xF1a "),t(),e(9,"input",7),I("ngModelChange",function(x){return P(a.password,x)||(a.password=x),x}),t()(),e(10,"div",8)(11,"button",9),u("click",function(){return a.login()}),i(12," Iniciar sesi\xF3n "),t()()()()),r&2&&(s(5),M("ngModel",a.username),s(4),M("ngModel",a.password))},dependencies:[E,F,W]});let l=o;return l})();function le(l,o){if(l&1){let d=A();e(0,"tr")(1,"td",36),i(2),t(),e(3,"td",36),i(4),t(),e(5,"td",36)(6,"button",37),u("click",function(){let r=k(d).index,a=C(2);return j(a.eliminarObjeto(r))}),i(7," X "),t()()()}if(l&2){let d=o.$implicit;s(2),N(d.src),s(2),N(d.description)}}function ae(l,o){if(l&1&&(e(0,"table",33)(1,"thead")(2,"tr")(3,"th",34),i(4,"Src"),t(),e(5,"th",34),i(6,"Description"),t(),e(7,"th",34),i(8,"delete"),t()()(),e(9,"tbody"),S(10,le,8,2,"tr",35),t()()),l&2){let d=C();s(10),b("ngForOf",d.formulario.controls.views.value)}}function se(l,o){if(l&1){let d=A();e(0,"li",28),i(1),e(2,"button",38),u("click",function(){let r=k(d).index,a=C();return j(a.eliminarString(r))}),i(3," X "),t()()}if(l&2){let d=o.$implicit;s(),h(" ",d," ")}}var ee=(()=>{let o=class o{constructor(n,r){this.formBuilder=n,this.firestore=r,this.formulario=this.formBuilder.group({title:["",p.required],client:["",p.required],companyName:["",p.required],descriptionProject:["",p.required],position:["",p.required],imageUrl:["",p.required],views:this.formBuilder.array([],p.required),technoligies:this.formBuilder.array([],p.required),src:[""],description:[""],nuevoString:[""]}),this.firestoreService=new Q(this.firestore),this.firestoreService.setCollection("projects")}agregarObjeto(){let n=this.formulario.value.src,r=this.formulario.value.description;n&&r&&(this.formulario.get("views").push(this.formBuilder.group({src:n,description:r})),this.formulario.patchValue({src:"",description:""}))}eliminarObjeto(n){this.formulario.get("views").removeAt(n)}agregarString(){let n=this.formulario.value.nuevoString;n&&(this.formulario.get("technoligies").push(this.formBuilder.control(n)),this.formulario.patchValue({nuevoString:""}))}eliminarString(n){this.formulario.get("technoligies").removeAt(n)}onSave(){if(this.formulario.valid){let n={title:this.formulario.value.title,description:this.formulario.value.descriptionProject,imageUrl:this.formulario.value.imageUrl,companyName:this.formulario.value.companyName,position:this.formulario.value.position,client:this.formulario.value.client,technologies:this.formulario.value.technoligies,views:this.formulario.value.views};console.log(n),this.firestoreService.addDocument(n).subscribe({next:c=>{console.log("return service:",c)},error:c=>{console.error("Error loading projects:",c)}}),this.formulario.get("views").clear(),this.formulario.get("technoligies").clear(),this.formulario.reset()}else console.log("El formulario no es v\xE1lido. Por favor, completa todos los campos requeridos.")}};o.\u0275fac=function(r){return new(r||o)(g(H),g(K))},o.\u0275cmp=f({type:o,selectors:[["add-page"]],decls:81,vars:9,consts:[[1,"flex","flex-col","justify-center","text-white"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-2"],[1,"shadow-md","rounded","p-2","m-2"],[1,"bg-gray-700","rounded","p-4","mb-2"],[1,"text-lg","mb-4","border-b-2"],["for","titulo",1,"block","text-gray-200","text-sm","mb-2"],["type","text","id","title","formControlName","title",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],["for","client",1,"block","text-gray-200","text-sm","mb-2"],["type","text","id","client","formControlName","client",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],["for","companyName",1,"block","text-gray-200","text-sm","mb-2"],["type","text","id","companyName","formControlName","companyName",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],["for","descriptionProject",1,"block","text-gray-200","text-sm","mb-2"],["type","text","id","descriptionProject","formControlName","descriptionProject",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],["for","imageUrl",1,"block","text-gray-200","text-sm","mb-2"],["type","text","id","imageUrl","formControlName","imageUrl",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],["for","position",1,"block","text-gray-200","text-sm","mb-2"],["type","text","id","position","formControlName","position",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],[1,"bg-gray-700","rounded","p-4","mt-2"],["for","src",1,"block","text-gray-200","text-sm","mb-2"],["type","text","id","src","formControlName","src",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],["for","description",1,"block","text-gray-200","text-sm","my-2"],["id","description","formControlName","description",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],["type","button",1,"bg-blue-500","hover:bg-blue-700","text-white","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline","my-2",3,"click"],["for","nuevoString",1,"block","text-gray-200","text-sm","mb-2"],["type","text","id","nuevoString","formControlName","nuevoString",1,"shadow","appearance-none","border","rounded","w-full","py-2","px-3","text-gray-900","leading-tight","focus:outline-none","focus:shadow-outline"],["type","button",1,"mt-3","bg-blue-500","hover:bg-blue-700","text-white","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline",3,"click"],[1,"block","text-gray-200","text-sm","font-bold","mb-2"],[1,"text-gray-300"],[1,"text-lg","font-bold","mb-2"],["class","table-auto w-full",4,"ngIf"],["class","text-gray-300",4,"ngFor","ngForOf"],["type","submit",1,"bg-green-500","hover:bg-green-700","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline","mt-4"],[1,"table-auto","w-full"],[1,"px-4","py-2"],[4,"ngFor","ngForOf"],[1,"border","px-4","py-2"],["type","button",1,"text-red-500","font-bold",3,"click"],["type","button",1,"text-red-500","font-bold","ml-5",3,"click"]],template:function(r,a){r&1&&(e(0,"div",0)(1,"form",1),u("ngSubmit",function(){return a.onSave()}),e(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),i(6,"Add Propiedades"),t(),e(7,"label",6),i(8,"Title:"),t(),m(9,"input",7),e(10,"label",8),i(11,"Client:"),t(),m(12,"input",9),e(13,"label",10),i(14,"Company name:"),t(),m(15,"input",11),e(16,"label",12),i(17,"Description Project:"),t(),m(18,"input",13),e(19,"label",14),i(20,"ImageUrl:"),t(),m(21,"input",15),e(22,"label",16),i(23,"Position:"),t(),m(24,"input",17),t(),e(25,"div",18)(26,"h2",5),i(27,"Add Views"),t(),e(28,"label",19),i(29,"Src:"),t(),m(30,"input",20),e(31,"label",21),i(32,"Descripci\xF3n:"),t(),m(33,"textarea",22),e(34,"button",23),u("click",function(){return a.agregarObjeto()}),i(35," Agregar View "),t()(),e(36,"div",18)(37,"h2",5),i(38,"Add Technologies"),t(),e(39,"label",24),i(40,"Technologies:"),t(),m(41,"input",25),e(42,"button",26),u("click",function(){return a.agregarString()}),i(43," Agregar tech "),t()()(),e(44,"div",3)(45,"div",4)(46,"label",27),i(47,"T\xEDtulo:"),t(),e(48,"span",28),i(49),t(),e(50,"label",27),i(51,"Client:"),t(),e(52,"span",28),i(53),t(),e(54,"label",27),i(55,"company Name:"),t(),e(56,"span",28),i(57),t(),e(58,"label",27),i(59,"project description:"),t(),e(60,"span",28),i(61),t(),e(62,"label",27),i(63,"project imageUrl:"),t(),e(64,"span",28),i(65),t(),e(66,"label",27),i(67,"position:"),t(),e(68,"span",28),i(69),t()(),e(70,"div",4)(71,"h3",29),i(72,"Views:"),t(),S(73,ae,11,1,"table",30),t(),e(74,"div",4)(75,"h3",29),i(76,"Technologies:"),t(),e(77,"ul"),S(78,se,4,1,"li",31),t()(),e(79,"button",32),i(80," Enviar "),t()()()()()),r&2&&(s(),b("formGroup",a.formulario),s(48),h("",a.formulario.controls.title.value," "),s(4),h("",a.formulario.controls.client.value," "),s(4),h("",a.formulario.controls.companyName.value," "),s(4),h("",a.formulario.controls.descriptionProject.value," "),s(4),h("",a.formulario.controls.imageUrl.value," "),s(4),h("",a.formulario.controls.position.value," "),s(4),b("ngIf",a.formulario.controls.views.value.length>0),s(5),b("ngForOf",a.formulario.controls.technoligies.value))},dependencies:[L,D,G,E,F,B,R,X]});let l=o;return l})();var te=(()=>{let o=class o{};o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=f({type:o,selectors:[["app-list-page"]],decls:3,vars:0,template:function(r,a){r&1&&(e(0,"p"),i(1,"listPage works!"),t(),i(2,`,
`))},styles:["[_nghost-%COMP%]{display:block}"]});let l=o;return l})();var me=[{path:"",component:Z,children:[{path:"login",component:$},{path:"add",component:ee},{path:"list",component:te},{path:"**",redirectTo:"login"}]}],ie=(()=>{let o=class o{};o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=w({type:o}),o.\u0275inj=v({imports:[T.forChild(me),T]});let l=o;return l})();var De=(()=>{let o=class o{};o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=w({type:o}),o.\u0275inj=v({imports:[V,ie,z,J,Y]});let l=o;return l})();export{De as AuthModule};
